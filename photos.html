<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISTE PCCoE</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: "PP Neue Montreal";
}

img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

section {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.hero, .outro {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1em;
    background-color: #000000;
    color: white;
}

.hero h1, .outro h1 {
    font-size: 3rem;
    font-weight: 400;
    line-height: 1;
}

.sticky-cards {
    background-color: black;
    position: relative;
}

.card {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    will-change: transform;
    width: 50%;
    height: 70%;
    padding: 0.5em;
    display: flex;
    flex-direction: column;
    gap: 0.5em;
    background-color: #000000;
    color: #e3e3e3;
}

.card-img {
    flex: 1 1 0;
    min-height: 0;
    width: 100%;
}

.card-content {
    flex: 0 0 12px;
    display: flex;
    align-items: center;
}

.card-content p {
    text-transform: uppercase;
    font-family: "Akkurat Mono";
    font-size: 12px;
    color: #000000;
}

.text {
    color: rgb(255, 255, 255);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 15px;
    font-weight: 500;
    height: 100%;
    width: 100%;
}

@media (max-width: 900px) {
    .card {
        width: 75%;
        height: 60%; /* Adjust height for smaller screens */
    }

    .hero h1, .outro h1 {
        font-size: 2rem; /* Smaller font size for mobile */
    }

    .text {
        font-size: 12px; /* Smaller text for mobile */
    }
}
    </style>
</head>
<body>
    <!-- <section class="hero">
        <h1>ISTE</h1>
    </section> -->
    <section class="sticky-cards">
        <div class="text">Scroll to see the iste event gallery</div>
        <div class="card">
            <div class="card-img"><img src="images_events/e1.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e2.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e3.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e4.jpg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e5.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e6.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e7.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e8.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e9.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e10.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e11.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e12.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e13.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e14.JPG" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e15.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e16.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e17.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e18.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e19.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e20.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e21.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e22.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
        <div class="card">
            <div class="card-img"><img src="images_events/e23.jpeg" alt=""></div>
            <div class="card-content"><p>ISTE PCCoE</p></div>
        </div>
    </section>
    <section class="outro">
        <h1>Stay tuned for more such events!</h1>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/lenis@1.1.20/dist/lenis.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const lenis = new Lenis();
            lenis.on("scroll", ScrollTrigger.update);
            gsap.ticker.add((time) => {
                lenis.raf(time * 1000);
            });
            gsap.ticker.lagSmoothing(0);

            const cards = gsap.utils.toArray(".card");
            const rotations = [-12, 10, -5, 5, -5, -2, -12, 10, -5, 5, -5, -2, ];

            cards.forEach((card, index) => {
                gsap.set(card, {
                    y: window.innerHeight,
                    rotate: rotations[index],
                });
            });

            ScrollTrigger.create({
                trigger: ".sticky-cards",
                start: "top top",
                end: `+=${window.innerHeight * 8}px`,
                pin: true,
                pinSpacing: true,
                scrub: 1,
                onUpdate: (self) => {
                    const progress = self.progress;
                    const totalCards = cards.length;
                    const progressPerCard = 1 / totalCards;

                    cards.forEach((card, index) => {
                        const cardStart = index * progressPerCard;
                        let cardProgress = (progress - cardStart) / progressPerCard;
                        cardProgress = Math.min(Math.max(cardProgress, 0), 1);

                        let yPos = window.innerHeight * (1 - cardProgress);
                        let xPos = 0;

                        if (cardProgress == 1 && index < totalCards - 1) {
                            const remainingProgress =
                                (progress - (cardStart + progressPerCard)) /
                                (1 - (cardStart + progressPerCard));

                            if (remainingProgress > 0) {
                                const distanceMultiplier = 1 - index * 0.15;
                                xPos = -window.innerWidth * 0.3 * distanceMultiplier * remainingProgress;
                                yPos = -window.innerHeight * 0.3 * distanceMultiplier * remainingProgress;
                            }
                        }

                        gsap.to(card, {
                            y: yPos,
                            x: xPos,
                            duration: 0,
                            ease: "none",
                        });
                    });
                },
            });
        });
    </script>
</body>
</html>